{"version":3,"file":"conversation.service.js","sourceRoot":"","sources":["../../../../../src/api/v1/modules/conversations/conversation.service.ts"],"names":[],"mappings":"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"}